<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title></title>
		<description>Blog personal sobre la plataforma Java</description>
		<link>/</link>
		<atom:link href="/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>Cargador de clases</title>
				<description>&lt;p&gt;Este tema siempre me ha parecido interesante y es de las cosas que muchos programadores no conocen, pero una vez lo entiendes, empiezas a comprender como funcionan muchas cosas en la plataforma Java. Entre ellas el sistema de carga de servidores Java EE, OSGI y otras.&lt;/p&gt;

&lt;p&gt;Empecemos desde el comienzo para entender todo esto. La siguiente imagen muestra en una idea general de como funciona la plataforma:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://eljaviador.files.wordpress.com/2014/08/plataforma_java.jpg&quot;&gt;&lt;img src=&quot;http://eljaviador.files.wordpress.com/2014/08/plataforma_java.jpg&quot; alt=&quot;plataforma_java&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Como ya sabes, un mismo archivo .class pueda ser ejecutado en diferentes sistemas operativos. Este archivo debe ser cargado por cada JVM y ejecutado. La JVM usa un mecanismo llamado carga de clase, que permite registrar en su área de datos los archivos &lt;strong&gt;&lt;em&gt;.class&lt;/em&gt;&lt;/strong&gt; y los asocia a un tipo &lt;strong&gt;Class&lt;/strong&gt;. La JVM usa los cargadores de clases para este proceso.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://eljaviador.files.wordpress.com/2014/08/jvm_architecture.jpg&quot;&gt;&lt;img src=&quot;http://eljaviador.files.wordpress.com/2014/08/jvm_architecture.jpg&quot; alt=&quot;jvm_architecture&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Supongamos que tienes un archivo HolaMundo.java, lo compilas y ejecutas.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;java HolaMundo&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Que proceso ocurre cuando lo ejecutas? Que hace la JVM con las referencias a otras clases usadas dentro de &lt;strong&gt;HolaMundo.java&lt;/strong&gt;?.&lt;/p&gt;

&lt;p&gt;La JVM carga el tipo &lt;strong&gt;HolaMundo&lt;/strong&gt; en su memoria y si dentro de &lt;strong&gt;HolaMundo.java&lt;/strong&gt; referencias otro tipo como por ejemplo &lt;strong&gt;MiClaseA.java&lt;/strong&gt; esta también sera cargada en demanda por la JVM. Si &lt;strong&gt;MiClaseA.java&lt;/strong&gt; referencia a una clase &lt;strong&gt;MiClaseB.java&lt;/strong&gt; esta sera también cargada en demanda por la JVM y así sucesivamente. Esto es igual si referencias una clase del lenguaje, por ejemplo String.&lt;/p&gt;

&lt;p&gt;El subsistema de carga de clases posee una jerarquía de funcionamiento. Existen 3 tipo de cargadores:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Bootstrap ClassLoader :&lt;/strong&gt; Carga las clases de /lib del JRE&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Extensions ClassLoader :&lt;/strong&gt; Carga las clases de /lib/ext de JRE&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;System ClassLoader :&lt;/strong&gt; Carga el classpath. También llamado Application ClassLoader&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;a href=&quot;https://eljaviador.files.wordpress.com/2014/08/classloader_hierarchy.jpg&quot;&gt;&lt;img src=&quot;http://eljaviador.files.wordpress.com/2014/08/classloader_hierarchy.jpg&quot; alt=&quot;classloader_hierarchy&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;La JVM al cargar en su memoria un .class, básicamente crea un objeto de tipo &lt;strong&gt;Class&lt;/strong&gt; que tiene todas las características de dicha clase. Este objeto tipo &lt;strong&gt;Class&lt;/strong&gt; lo podemos obtener ya que el lenguaje me proporciona un método llamado &lt;em&gt;&lt;strong&gt;getClass()&lt;/strong&gt;&lt;/em&gt; que esta presente en cada clase que creamos. Veamos un ejemplo:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HolaMundo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;HolaMundo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HolaMundo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazzName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;clazzName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;La clase &lt;strong&gt;Class&lt;/strong&gt; posee mas métodos interesantes que me dicen las características de la clase &lt;strong&gt;HolaMundo&lt;/strong&gt;. Uno de estos es &lt;em&gt;&lt;strong&gt;getClassLoader()&lt;/strong&gt;&lt;/em&gt; que me dice cual fue el &lt;strong&gt;ClassLoader&lt;/strong&gt; que cargo dicha clase. De hecho una misma clase puede ser cargada al mismo tiempo por diferentes ClassLoaders y en esencia aunque sea la misma clase a juicio de la JVM son diferentes.&lt;/p&gt;

&lt;p&gt;Obtengamos la jerarquía de cargadores de clases que mencionamos.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HolaMundo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;HolaMundo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HolaMundo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClass&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;ClassLoader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getClassLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;ClassLoader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;extensions&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getParent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extensions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;ClassLoader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bootstrap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;extensions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getParent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bootstrap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;El ultimo me imprime null, esto es porque el cargador bootstrap es nativo y no esta escrito en java. Veamos algunos conceptos asociados a los cargadores de clases.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;principio-de-delegacin&quot;&gt;Principio de Delegación&lt;/h3&gt;

&lt;p&gt;Este principio dicta que un &lt;strong&gt;ClassLoader&lt;/strong&gt; pide a su padre una clase, si este no la consigue  delega en su padre y así sucesivamente hasta llegar al bootstrap y bajar de nuevo al &lt;strong&gt;ClassLoader&lt;/strong&gt; que inicio la petición el cual termina cargando la clase.&lt;/p&gt;

&lt;h3 id=&quot;principio-de-visibilidad&quot;&gt;Principio de Visibilidad&lt;/h3&gt;

&lt;p&gt;Las clases cargadas por un &lt;strong&gt;ClassLoader&lt;/strong&gt; son visibles a sus hijos y no viceversa, es decir las clases cargadas por los hijos no son visibles para sus padres.&lt;/p&gt;

&lt;h3 id=&quot;principio-de-unicidad&quot;&gt;Principio de Unicidad&lt;/h3&gt;

&lt;p&gt;Cuando un &lt;strong&gt;ClassLoader&lt;/strong&gt; carga una clase sus hijos nunca la re-cargaran.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Veamos un ejemplo mas complejo con un paquete EAR instalado en un servidor Java EE. Un archivo EAR generalmente contiene lo siguientes:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Un o varios módulos &lt;strong&gt;EJB&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Uno o varios módulos &lt;strong&gt;WAR&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Dependencias &lt;strong&gt;JAR&lt;/strong&gt; compartidas por los EJB y los WAR&lt;/li&gt;
  &lt;li&gt;Un archivo descriptor &lt;em&gt;&lt;strong&gt;application.xml&lt;/strong&gt;&lt;/em&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Supongamos que tenemos dos EAR, &lt;em&gt;&lt;strong&gt;MyEar1.ear&lt;/strong&gt;&lt;/em&gt; y &lt;em&gt;&lt;strong&gt;MyEar2.ear&lt;/strong&gt;&lt;/em&gt;. La estructura de ClassLoaders es parecida esta:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://eljaviador.files.wordpress.com/2014/08/application_server_classloader.jpg&quot;&gt;&lt;img src=&quot;http://eljaviador.files.wordpress.com/2014/08/application_server_classloader.jpg&quot; alt=&quot;application_server_classloader&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Cada EAR tendrá su propio ClassLoader.&lt;/li&gt;
  &lt;li&gt;Todos los EJB comparten un mismo ClassLoader.&lt;/li&gt;
  &lt;li&gt;Cada WAR tiene su propio ClassLoader.&lt;/li&gt;
  &lt;li&gt;Los servidores y contenedores de Java EE pueden aplicar diferentes estrategias de carga de clases.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;padre-primero-padre-ultimo-parent-first-parent-last&quot;&gt;Padre primero, padre ultimo (Parent First, Parent Last)&lt;/h3&gt;

&lt;p&gt;Algunos cargadores delegan las peticiones a su padre de forma inmediata sin antes buscar en sus directorios los archivos &lt;em&gt;&lt;strong&gt;.class&lt;/strong&gt;&lt;/em&gt;. Esta forma de operar se le denomina &lt;em&gt;&lt;strong&gt;Parent First&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Si un cargador busca primero el .class en sus directorios y solo después que no la encuentra hace la petición al padre a esto se le denomina &lt;em&gt;&lt;strong&gt;Parent Last&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Algunos servidores y contenedores por defecto están configurados para usar el enfoque de Parent Last, esto carga primero las librerías del WAR para después llegar al ClassLoader del servidor. Esto permite a las aplicaciones usar sus propias librerías y no las que están instaladas en los servidores.&lt;/p&gt;
</description>
				<pubDate>Sun, 31 Aug 2014 13:10:04 -0500</pubDate>
				<link>/arquitectura/javase/2014/08/31/cargador-de-clases.html</link>
				<guid isPermaLink="true">/arquitectura/javase/2014/08/31/cargador-de-clases.html</guid>
			</item>
		
			<item>
				<title>Contenedor Spring</title>
				<description>&lt;p&gt;No voy a entrar en detalles teóricos sobre &lt;strong&gt;Spring&lt;/strong&gt; ya que en los dos últimos artículos hablamos sobre &lt;em&gt;Inyección de Dependencias&lt;/em&gt; &lt;em&gt;y Contenedores&lt;/em&gt;. Mencionare los conceptos adicionales necesarios para conocer mejor Spring framework. &lt;/p&gt;

&lt;p&gt;Spring básicamente permite hacer uso del paradigma de &lt;em&gt;IoC&lt;/em&gt;(Inversión del Control) que ya habíamos visto.
En el artículo anterior vimos una lista de pasos para usar un contenedor en nuestra aplicación. Son los siguientes:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Indicamos un punto de arranque para nuestra aplicación, un lanzador.&lt;/li&gt;
  &lt;li&gt;Este lanzador carga o inicia el contenedor.&lt;/li&gt;
  &lt;li&gt;El contenedor carga la configuración de nuestros objetos y dependencias.&lt;/li&gt;
  &lt;li&gt;Le pedimos al contenedor que nos proporcione nuestra aplicación.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Usaremos las mismas clases del artículo anterior, &lt;strong&gt;Office&lt;/strong&gt;, &lt;strong&gt;Printer&lt;/strong&gt;, &lt;strong&gt;DotMatrixPrinter&lt;/strong&gt; y &lt;strong&gt;Main&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;usando-el-api-de-spring&quot;&gt;Usando el API de Spring&lt;/h2&gt;

&lt;p&gt;El core de Spring a través de la interface &lt;strong&gt;&lt;em&gt;BeanFactory&lt;/em&gt;&lt;/strong&gt; proporciona todas las características de &lt;em&gt;IoC e Inyección de Dependencias&lt;/em&gt;. La clase principal que implementa esta interface es &lt;strong&gt;DefaultListableBeanFactory&lt;/strong&gt;. Esta sera nuestro “&lt;em&gt;Container&lt;/em&gt;”.&lt;/p&gt;

&lt;p&gt;Spring no solo es un simple contenedor para inyectar dependencias, también ofrece otras características y servicios como &lt;em&gt;transaccionalidad&lt;/em&gt;, &lt;em&gt;AOP&lt;/em&gt;, &lt;em&gt;eventos&lt;/em&gt;, &lt;em&gt;soporte i18n&lt;/em&gt;, &lt;em&gt;contextos&lt;/em&gt; y mas. Para esto Spring extiende el &lt;em&gt;BeanFactory&lt;/em&gt; con la interface &lt;em&gt;ApplicationContext&lt;/em&gt; de la que hablaremos pronto.&lt;/p&gt;

&lt;p&gt;Spring framework posee muchos modulos, pero aqui solo vamos a usar dos. El modulo core y el modulo beans. Las dependencias maven necesarias solo son:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework&lt;span class=&quot;nt&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-beans&lt;span class=&quot;nt&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.0.5.RELEASE&lt;span class=&quot;nt&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Manualmente se necesita agregar al proyecto los siguientes jars:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;spring-core-4.0.5.RELEASE.jar&lt;/li&gt;
  &lt;li&gt;spring-beans-4.0.5.RELEASE.jar&lt;/li&gt;
  &lt;li&gt;commons-logging-1.1.3.jar&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h3 id=&quot;paso-1-punto-de-arranque&quot;&gt;Paso 1, punto de arranque&lt;/h3&gt;

&lt;p&gt;Nuestro punto de inicio o lanzador será un clase &lt;strong&gt;Main&lt;/strong&gt; igual que el ejemplo del artículo anterior.&lt;/p&gt;

&lt;h3 id=&quot;paso-2-el-lanzador-inicia-el-contenedor&quot;&gt;Paso 2, el lanzador inicia el contenedor&lt;/h3&gt;

&lt;p&gt;Aquí usamos la clase de Spring que indicamos anteriormente, &lt;strong&gt;DefaultListableBeanFactory&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DefaultListableBeanFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DefaultListableBeanFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;paso-3-cargar-la-configuracin-al-contenedor&quot;&gt;Paso 3, cargar la configuración al contenedor&lt;/h3&gt;

&lt;p&gt;Aquí tenemos varios sub-pasos, primero debemos especificar nuestra configuración. Spring permite esto a través de un archivo de configuración xml o a través de anotaciones. Usaremos el xml y lo llamaremos &lt;em&gt;&lt;strong&gt;my-beans.xml&lt;/strong&gt;&lt;/em&gt;. 
En Spring nuestros objetos se conocen como &lt;em&gt;Beans&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;UTF-8&amp;quot;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;beans&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;xmlns=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://www.springframework.org/schema/beans&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;  &lt;span class=&quot;na&quot;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://www.w3.org/2001/XMLSchema-instance&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;  &lt;span class=&quot;na&quot;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;myDotMatrixPrinter&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;com.test.spc.DotMatrixPrinter&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;office&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;com.test.spc.Office&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;nt&quot;&gt;&amp;lt;constructor-arg&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;myDotMatrixPrinter&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;El elemento &lt;strong&gt;&amp;lt;bean …&amp;gt;&lt;/strong&gt; permite definir mis objetos.
Ahora cargamos nuestro xml y se lo pasamos al contenedor. Usaremos clases de Spring para ayudarnos. Primero usamos un cargador de recursos con la interface &lt;strong&gt;&lt;em&gt;ResourceLoader&lt;/em&gt;&lt;/strong&gt;. Luego un lector de xml con &lt;strong&gt;XmlBeanDefinitionReader&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ResourceLoader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resourceLoader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DefaultResourceLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Resource&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resourceLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;classpath:my-beans.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beanDefinitionReader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beanDefinitionReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3 id=&quot;paso-4-pedimos-nuestra-aplicacinbean-al-contenedor&quot;&gt;Paso 4, pedimos nuestra aplicación(bean) al contenedor&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setMessageToPrint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo!!&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;uniendo-todo&quot;&gt;Uniendo todo&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//1.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//2. &lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;DefaultListableBeanFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DefaultListableBeanFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//3.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;ResourceLoader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resourceLoader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DefaultResourceLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Resource&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resourceLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getResource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;classpath:my-beans.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;beanDefinitionReader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;XmlBeanDefinitionReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;beanDefinitionReader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;loadBeanDefinitions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//4.&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;officeBean2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setMessageToPrint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo!!&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;officeBean&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;detalles-de-configuracin-del-xml&quot;&gt;Detalles de configuración del xml&lt;/h2&gt;

&lt;p&gt;Los atributos importantes en el elemento &lt;strong&gt;bean&lt;/strong&gt; son &lt;em&gt;&lt;strong&gt;class&lt;/strong&gt;&lt;/em&gt; que permite especificar la clase y el &lt;em&gt;&lt;strong&gt;id&lt;/strong&gt;&lt;/em&gt; que se usa como identificador y permite referenciar el bean en todo el xml. En esta configuración usamos la &lt;em&gt;inyección por constructor&lt;/em&gt; con el elemento &lt;strong&gt;&lt;em&gt;&amp;lt;constructor-arg&amp;gt;&lt;/em&gt;&lt;/strong&gt; y con el atributo &lt;em&gt;&lt;strong&gt;ref&lt;/strong&gt;&lt;/em&gt; definimos cual id de bean es la dependencia.
También podemos inyectar dependencias por un método setter. De esta manera debemos usar el atributo &lt;strong&gt;&lt;em&gt;&amp;lt;property&amp;gt;&lt;/em&gt;&lt;/strong&gt; así:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;property&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;printer&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;ref=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;myDotMatrix&amp;quot;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Nuestra clase &lt;strong&gt;Office&lt;/strong&gt; debe definir un método setter:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;//mas codigo...&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;scope&quot;&gt;Scope&lt;/h2&gt;

&lt;p&gt;Otro punto importante para entender es que Spring cada vez que le pides un bean te retorna el mismo objeto ya que por defecto crea una sola instancia de cada bean, es lo que se conoce como scope &lt;em&gt;&lt;strong&gt;singleton&lt;/strong&gt;&lt;/em&gt;. Si queremos una instancia diferente cada vez que hacemos &lt;em&gt;&lt;strong&gt;getBean()&lt;/strong&gt;&lt;/em&gt; definimos el bean como scope &lt;em&gt;&lt;strong&gt;prototype&lt;/strong&gt;&lt;/em&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;&amp;lt;bean&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;office&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;class=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;com.test.spc.Office&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;scope=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;prototype&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;historia-de-spring&quot;&gt;Historia de Spring&lt;/h2&gt;

&lt;p&gt;Spring fue lanzado en 2004 y nació como una alternativa a las primeras versiones de &lt;em&gt;&lt;strong&gt;Enterprise JavaBeans&lt;/strong&gt;&lt;/em&gt;(EJB). Se define como un contenedor &lt;em&gt;liviano no intrusivo&lt;/em&gt; ya que nuestras clases no necesitan extender ni implementar nada del framework. Cosa que si era necesaria con EJB. Y el nombre de los beans de Spring viene de Enterprise JavaBeans.&lt;/p&gt;
</description>
				<pubDate>Sun, 13 Jul 2014 03:00:04 -0500</pubDate>
				<link>/arquitectura/framework/2014/07/13/contenedor-spring.html</link>
				<guid isPermaLink="true">/arquitectura/framework/2014/07/13/contenedor-spring.html</guid>
			</item>
		
			<item>
				<title>Contenedores e Inyección de Dependencias [02]</title>
				<description>&lt;p&gt;En la entrada anterior veíamos un poco el paradigma de &lt;em&gt;Inyección de Dependencias&lt;/em&gt; que promueve la &lt;strong&gt;modularidad&lt;/strong&gt; y la &lt;strong&gt;reutilización&lt;/strong&gt; de objetos, además los contenedores nos facilitan su uso. &lt;/p&gt;

&lt;p&gt;Vamos a crear un contenedor propio, claro solo con fines académicos para entrar mas en detalle y asimilar mejor estos conceptos.&lt;/p&gt;

&lt;p&gt;Supongamos que en una oficina &lt;strong&gt;X&lt;/strong&gt; necesitan un software para impresión de mensajes o documentos. En esta oficina hay una impresora Laser.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Creamos una clase &lt;strong&gt;Office&lt;/strong&gt; y una clase &lt;strong&gt;LaserPrinter&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;Creamos una clase &lt;strong&gt;Main&lt;/strong&gt; que inicia nuestro programa.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;versin-cero&quot;&gt;Versión cero&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LaserPrinter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//Codigo para imprimir en laser&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Imprimiendo en Laser el mensaje :&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;27&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;28&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;29&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;30&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;31&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;32&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;33&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;primera-correccin&quot;&gt;Primera Corrección&lt;/h2&gt;

&lt;p&gt;Existe un principio de dice que debemos &lt;strong&gt;&lt;em&gt;programar contra interfaces y no contra clases concretas&lt;/em&gt;&lt;/strong&gt;. Nuestro primer cambio entonces va sobre la propiedad &lt;em&gt;printer&lt;/em&gt; en la clase &lt;strong&gt;Office&lt;/strong&gt;.
Creamos una interface &lt;strong&gt;Printer&lt;/strong&gt; para que sea implementada por &lt;strong&gt;LaserPrinter&lt;/strong&gt; y reemplazamos en la clase &lt;strong&gt;Office&lt;/strong&gt; la propiedad.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LaserPrinter&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//Codigo para imprimir en laser&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Imprimiendo en Laser el mensaje :&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;27&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;28&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;29&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;30&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;31&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;32&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;33&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;34&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;Ya cambiamos el tipo de la variable &lt;em&gt;printer&lt;/em&gt; a una interface.&lt;/p&gt;

&lt;p&gt;Surge una nueva oficina &lt;strong&gt;Z&lt;/strong&gt; que tiene una impresora de puntos. Que hacemos? Pues fácil, creamos una implementación nueva para la interface &lt;strong&gt;Printer&lt;/strong&gt; que trabaja con impresoras de punto. La llamaremos &lt;strong&gt;DotMatrixPrinter&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Ahora la interrogante si en el código de &lt;strong&gt;Office&lt;/strong&gt; hemos instanciado directamente nuestra &lt;strong&gt;LaserPrinter&lt;/strong&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Que hacemos?&lt;/p&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;segunda-correccin&quot;&gt;Segunda Corrección&lt;/h2&gt;

&lt;p&gt;Aplicamos el principio de &lt;em&gt;Inyección de Dependencias&lt;/em&gt;, es decir, le quitamos a la clase &lt;strong&gt;Office&lt;/strong&gt; la responsabilidad de hacer la instanciación de &lt;strong&gt;LaserPrinter&lt;/strong&gt;. La clase &lt;strong&gt;Office&lt;/strong&gt; debe recibir desde afuera la implementación indicada para la interface &lt;strong&gt;Printer&lt;/strong&gt;. Podemos usar por ejemplo el constructor para pasar la implementación adecuada.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;    &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;LaserPrinter&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//Codigo para imprimir en laser&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Imprimiendo en Laser el mensaje :&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DotMatrixPrinter&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;//Codigo para imprimir en matrix de punto&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;System&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Imprimiendo en matrix de punto mensaje :&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Printer&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;27&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;printer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;28&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;29&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;30&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;31&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;32&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;33&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;34&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;35&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;printer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;36&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;37&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;38&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;39&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;40&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;41&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;42&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;43&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;DotMatrixPrinter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;DotMatrixPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;44&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dmp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;45&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;46&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;47&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;48&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;p&gt;En este caso estamos inyectando desde afuera una impresora especifica. Esto es un caso sencillo, pero todos sabemos que en el mundo real no es así. Tu sistema tendrá cientos de clases que interactuan unas con otras.&lt;/p&gt;

&lt;p&gt;Aqui es donde los contenedores me ayudan con toda esa cantidad de objetos y las conexiones entre ellos.&lt;/p&gt;

&lt;h2 id=&quot;manos-a-la-obra&quot;&gt;Manos a la obra&lt;/h2&gt;

&lt;p&gt;Vamos a crear nuestro pequeño contenedor(le haremos competencia a &lt;em&gt;Google Guice&lt;/em&gt; y &lt;em&gt;Spring framework&lt;/em&gt;). Explico el flujo básico que tienen estos contenedores conocidos.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Se debe indicar nuestro punto de arranque, generalmente lo que llamamos un lanzador.&lt;/li&gt;
  &lt;li&gt;Este lanzador carga o inicia el contenedor.&lt;/li&gt;
  &lt;li&gt;El contenedor lee la configuración que hemos indicado de nuestros objetos y dependencias.&lt;/li&gt;
  &lt;li&gt;Le pedimos al contenedor que inicie o nos proporcione nuestra aplicación.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Lo nuevo aquí es crear una clase que actúe como nuestro contenedor y que llamaremos &lt;strong&gt;Container&lt;/strong&gt;. Ya tenemos nuestro lanzador que es la clase &lt;strong&gt;Main&lt;/strong&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;LaserPrinter&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LaserPrinter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;put&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;       &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Main&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt;    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;getObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;27&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;receiveMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Hola mundo&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;28&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;office&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;29&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;30&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;31&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt; &lt;/p&gt;

&lt;h2 id=&quot;notas-finales&quot;&gt;Notas Finales&lt;/h2&gt;

&lt;p&gt;Vamos a puntualizar algunos aspectos aquí. Nuestro contenedor en el constructor tiene el código de “&lt;em&gt;configuración&lt;/em&gt;” de los objetos. Esto lo podemos hacer de forma externa al contenedor, es decir, podemos pasar un archivo de configuración en el constructor con nuestros objetos como lo hace Spring. También podemos crear la configuración por código y que el contenedor la lea como hace Guice y  Spring.&lt;/p&gt;
</description>
				<pubDate>Fri, 11 Jul 2014 04:24:00 -0500</pubDate>
				<link>/arquitectura/conceptos/2014/07/11/contenedores-e-inyeccion-de-dependencias-%5Bparte-2%5D.html</link>
				<guid isPermaLink="true">/arquitectura/conceptos/2014/07/11/contenedores-e-inyeccion-de-dependencias-%5Bparte-2%5D.html</guid>
			</item>
		
			<item>
				<title>Hilos en Java [01]</title>
				<description>&lt;p&gt;Bueno esta es la primera de varias entregas sobre concurrencia o hilos en Java.  Vamos a tratar de ir de 0 a 100 para entender mejor todo este mundo de la multitaréa con el fin de aplicar lo que aprendamos en nuestros diseños de una forma mas optima.&lt;/p&gt;

&lt;h2 id=&quot;introduccin-a-los-hilos&quot;&gt;Introducción a los Hilos&lt;/h2&gt;
&lt;p&gt;Para no alargar mucho la historia ya que pueden conseguir bastantes definiciones por ahí, Java nos permite la ejecución de varios procesos al tiempo algo muy parecido a lo que hace el sistema operativo. Bueno realmente sabemos que con un solo núcleo o procesador solo se ejecuta un proceso a la vez, pero dada la velocidad con que se realizan para nosotros son como procesos paralelos. Con Java la &lt;strong&gt;JVM&lt;/strong&gt; es nuestro pequeño sistema operativo en este caso y es la encargada con su sistema de scheduling (planificador) de manejar nuestros hilos o procesos de forma concurrente.&lt;/p&gt;

&lt;p&gt;Si tuviéramos un sistema operativo como Solaris, es posible que la JVM haga un mapeo de cada hilo que nosotros creamos directamente a procesos del mismo sistema operativo.&lt;/p&gt;

&lt;p&gt;Cuando hablamos de un HILO en Java tenemos dos posibles conceptos según el contexto:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Un hilo es una instancia de la clase &lt;code&gt;Thread&lt;/code&gt; ubicada en el paquete &lt;code&gt;java.lang&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Un hilo es un proceso(Thread) de ejecución.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Una instancia de &lt;code&gt;Thread&lt;/code&gt; es un objeto común y corriente, de los que usamos con un simple new:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hilo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Aquí solo he creado un simple objeto de tipo &lt;code&gt;Thread&lt;/code&gt; y este tendrá variables, métodos, vivirá y morirá en el &lt;strong&gt;Heap&lt;/strong&gt;. No es un hilo de ejecución porque no lo he iniciado como tal. &lt;/p&gt;

&lt;p&gt;Un &lt;em&gt;Thread de ejecución&lt;/em&gt; es un proceso individual con su propia &lt;em&gt;&lt;strong&gt;PILA DE LLAMADAS&lt;/strong&gt;&lt;/em&gt; (Call Stack).&lt;/p&gt;

&lt;h2 id=&quot;pila-de-llamadas&quot;&gt;Pila de Llamadas&lt;/h2&gt;
&lt;p&gt;En Java siempre hay aunque sea un único hilo ejecutándose, este hilo se crea al llamar al método &lt;code&gt;main()&lt;/code&gt;. Es decir, siempre tengo un hilo llamado &lt;em&gt;&lt;strong&gt;main&lt;/strong&gt;&lt;/em&gt; que es el hilo inicial. Para este hilo main, se crea una pila de llamadas que no es mas que la secuencia en que los métodos se van invocando unos a otros.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/hilos-01.jpg&quot; alt=&quot;Hilos 01&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Desde el método &lt;code&gt;main&lt;/code&gt; llamaremos al &lt;code&gt;método1&lt;/code&gt;, desde el &lt;code&gt;método1&lt;/code&gt; llamamos al &lt;code&gt;método2&lt;/code&gt; y así sucesivamente.&lt;/p&gt;

&lt;p&gt;Para cada nuevo hilo que iniciamos se creara una pila de llamadas totalmente independiente una de otra. Si lanzamos dos hilos y cada uno llama al mismo método de una misma instancia de una clase(osea el mismo objeto en el heap), este se copia en cada pila sin interferir uno con otro. Cada hilo tendrá su propia copia del contenido de dicho método, sip, &lt;em&gt;&lt;strong&gt;incuso de las variables locales&lt;/strong&gt;&lt;/em&gt; (variables de método) y todo los declaremos dentro de dicho método. &lt;/p&gt;

&lt;p&gt;Ojo que no pasa lo mismo con las variables o atributos de la instancia, osea &lt;em&gt;&lt;strong&gt;el estado de ese objeto es compartido&lt;/strong&gt;&lt;/em&gt; y si un hilo modifica un atributo el otro hilo vera ese cambio, pero ese tema lo vemos después con mas detalle, solo quería que entendieran el mecanismo de la pila de llamadas.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/hilos-02.jpg&quot; alt=&quot;Hilos 02&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Cada vez que lanzamos un nuevo hilo, este nuevo call stack o pila de llamadas empieza con el método &lt;code&gt;run()&lt;/code&gt;. Evidentemente el hilo principal empieza su stack con main.&lt;/p&gt;

&lt;h2 id=&quot;usando-hilos&quot;&gt;Usando hilos&lt;/h2&gt;
&lt;p&gt;La forma de usar hilos en Java es a través de la clase &lt;code&gt;java.lang.Thread&lt;/code&gt;. Esto se puede hacer de dos formas:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Crear una clase que extienda de &lt;code&gt;Thread&lt;/code&gt; y sobrescribir el método &lt;code&gt;run()&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Implementar la interface &lt;code&gt;Runnable&lt;/code&gt; y pasarla a un objeto &lt;code&gt;Thread&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;En cualquiera de los casos hay que usar un objeto &lt;code&gt;Thread&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;HiloUno&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Aqui mi codigo de ejecucion&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
 
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Principal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;HiloUno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HiloUno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;HiloUno&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;HiloUno&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// Se crea pila de llamadas&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;h2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// Se crea pila de llamadas&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Esta es la forma de lanzar o iniciar un hilo de ejecución. Usando el método &lt;code&gt;start()&lt;/code&gt; estoy convirtiendo un simple objeto &lt;code&gt;Thread&lt;/code&gt; en una nueva pila de llamadas, en este caso estamos lanzando dos procesos mas aparte del &lt;em&gt;&lt;strong&gt;main&lt;/strong&gt;&lt;/em&gt;, osea tenemos tres hilos de ejecución. Pero ojo si llamáramos solo el método &lt;code&gt;run()&lt;/code&gt; sin usar &lt;code&gt;start()&lt;/code&gt; estaríamos ejecutando un simple método en un simple objeto y no crearía ninguna pila de llamadas, osea no crearíamos ningún proceso aparte. &lt;/p&gt;

&lt;p&gt;De la otra forma sería:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Ejecutor&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Runnable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Aqui mi codigo de ejecucion&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Principal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Ejecutor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Ejecutor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Pasar en el constructor de &lt;code&gt;Thread&lt;/code&gt; un objeto &lt;code&gt;Runnable&lt;/code&gt; y de igual manera iniciar el hilo de ejecución con &lt;code&gt;start()&lt;/code&gt;. De hecho &lt;code&gt;Thread&lt;/code&gt; tiene varios constructores y la misma clase &lt;code&gt;Thread&lt;/code&gt; también implementa &lt;code&gt;Runnable&lt;/code&gt; así que es posible pasar un &lt;code&gt;Thread&lt;/code&gt; a otro a través de su constructor.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MiHilo&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// Aqui mi codigo de ejecucion&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
 
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Principal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;MiHilo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;MiHilo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// Se crea pila de llamadas&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Generalmente se recomienda usar el segundo enfoque implementando &lt;code&gt;Runnable&lt;/code&gt; porque es mas flexible en cuanto a diseño. En ocasiones mi modelo puede que no permite extender de &lt;code&gt;Thread&lt;/code&gt; porque ya extiende de otra clase. Aunque usar el primer enfoque no quiere decir que precisamente este mal, como dije es cuestión de diseño o gustos .&lt;/p&gt;

&lt;h2 id=&quot;ciclo-de-vida&quot;&gt;Ciclo de Vida&lt;/h2&gt;
&lt;p&gt;Antes de pasar a trabajar más con los hilos conozcamos el ciclo de vida de estos. Cada &lt;em&gt;hilo de ejecución&lt;/em&gt; tiene un ciclo de vida determinado por sus posibles estados.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/hilos-03.jpg&quot; alt=&quot;Hilos 03&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Nuevo :&lt;/strong&gt; Este es el estado al crear una instancia de la clase &lt;code&gt;Thread&lt;/code&gt;, pero aun no es un hilo vivo, no lo hemos iniciado con &lt;code&gt;start()&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Ejecutable :&lt;/strong&gt; Este estado aparece al llamar el método &lt;code&gt;start()&lt;/code&gt; y aquí se convierte en un hilo vivo con su propia pila de llamadas.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Ejecutandose :&lt;/strong&gt; Este estado indica que el hilo esta ejecutando parte del código del método &lt;code&gt;run()&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Esperando / Bloqueado / Dormido :&lt;/strong&gt; Estos estados aparecen por algún motivo, el propio hilo se fue a dormir, esta en espera de algún recurso, el planificador lo decidió, etc.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Muerto :&lt;/strong&gt; El hilo se considera muerto cuando terminó la ejecución del método &lt;code&gt;run()&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Podemos obtener el estado de un hilo con el método &lt;code&gt;getState()&lt;/code&gt; de &lt;code&gt;Thread&lt;/code&gt;. Este retorna un enum que pertenece a la misma clase. &lt;/p&gt;

&lt;p&gt;El planificador posee una especie de bolsa donde echa todos los hilos en estado &lt;em&gt;&lt;strong&gt;Ejecutable&lt;/strong&gt;&lt;/em&gt; para luego seleccionar uno y ponerlo en ejecución. La decisión de cual hilo seleccionar para ejecutar siempre pertenece al planificador, aunque bajo ciertas condiciones pudiéramos influenciar al planificador, por ejemplo especificando las prioridades de algunos hilos no significa que lo podemos controlar.&lt;/p&gt;

&lt;p&gt;Hay varios escenarios por los cual el planificador puede sacar un hilo en ejecución y enviarlo a la bolsa de ejecutables o ponerlo en otro estado(esperando, bloqueado, dormido o muerto):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Completo el método &lt;code&gt;run()&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Hay una llamada al método &lt;code&gt;wait()&lt;/code&gt; – Lo veremos después.&lt;/li&gt;
  &lt;li&gt;Un hilo no pudo obtener el &lt;em&gt;bloqueo(Lock)&lt;/em&gt; de un objeto - Lo veremos después.&lt;/li&gt;
  &lt;li&gt;El planificador tomó la decisión según su criterio (porque le dio la gana ).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Unos puntos para finalizar esta primera parte de hilos:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Un hilo en estado muerto(finalizó el método &lt;code&gt;run()&lt;/code&gt;) no puede volver a iniciarse con &lt;code&gt;start()&lt;/code&gt; ya que la JVM nos lanza una &lt;code&gt;IllegalThreadStateException&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Puedo encadenar hilos. Un hilo inicia solo cuando otro termine.&lt;/li&gt;
  &lt;li&gt;Un hilo puede ceder el paso a otro y se va automáticamente de Ejecutándose a Ejecutable.&lt;/li&gt;
  &lt;li&gt;Un hilo no puede bloquear a otro.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Hasta aquí esta primera parte, see you later .&lt;/p&gt;
</description>
				<pubDate>Wed, 30 Mar 2011 15:20:00 -0500</pubDate>
				<link>/concurrencia/2011/03/30/hilos-en-java-%5Bparte-1%5D.html</link>
				<guid isPermaLink="true">/concurrencia/2011/03/30/hilos-en-java-%5Bparte-1%5D.html</guid>
			</item>
		
			<item>
				<title>Principios S.O.L.I.D</title>
				<description>&lt;p&gt;Los principios &lt;strong&gt;S.O.L.I.D&lt;/strong&gt; son un conjunto de guías que nos ayudan a &lt;em&gt;&lt;strong&gt;evitar malos diseños&lt;/strong&gt;&lt;/em&gt; cuando desarrollamos software orientado a objetos. Estos principios fueron reunidos y expuestos por &lt;em&gt;Robert Martin&lt;/em&gt;, también conocido como “El tío bob” en su libro &lt;em&gt;“Agile Software Development: Principles, Patterns, and Practices”&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;El buen uso de estos principios nos permite construir software extensible y fácil de mantener,  también nos permiten detectar lo que conocemos como &lt;em&gt;&lt;strong&gt;code smell&lt;/strong&gt;&lt;/em&gt; de los cuales hablaremos después. El Sr. Martin nos habla también de 3 características importantes que deben ser evitadas en la construcción de nuestro software:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Rigidez :&lt;/strong&gt; Al cambiar algo en el sistema, es necesario cambiar otras partes por estar muy acopladas.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Fragilidad :&lt;/strong&gt; Al hacer un cambio en el sistema, otras partes que no esperábamos del mismo se rompen.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Inmovilidad :&lt;/strong&gt; Dificultad para reutilizar cosas en otro sistema por ser difícil de desenredar del actual.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Si nuestro objetivo es desarrollar buen software no podemos perdernos de su conocimiento que junto con los patrones de diseño nos van a hacer la vida más fácil.&lt;/p&gt;

&lt;p&gt;Estos principios son:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;S&lt;/strong&gt;ingle Responsability Principle&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;O&lt;/strong&gt;pen / Close Principle&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;L&lt;/strong&gt;iskov Substitution Principle&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;I&lt;/strong&gt;nterface Segregation Principle&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;D&lt;/strong&gt;ependency Inversion Principle&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Veamos rápidamente la definición de cada uno. En las próximas entradas los veremos con más detalle.&lt;/p&gt;

&lt;h3 id=&quot;single-responsability-principle--principio-de-responsabilidad-simple&quot;&gt;Single Responsability Principle – Principio de Responsabilidad Simple&lt;/h3&gt;
&lt;p&gt;Una clase debe tener una sola razón para cambiar.&lt;/p&gt;

&lt;h3 id=&quot;open--close-principle--principio-abierto--cerrado&quot;&gt;Open / Close Principle – Principio Abierto / Cerrado&lt;/h3&gt;
&lt;p&gt;Clases, módulos y funciones deben ser abierta para extender y cerrada para modificar.&lt;/p&gt;

&lt;h3 id=&quot;liskov-substitution-principle--principio-de-sustitucin-de-liskov&quot;&gt;Liskov Substitution Principle – Principio de Sustitución de Liskov&lt;/h3&gt;
&lt;p&gt;Al usar una clase base los subtipos de esta pueden ser cambiados.&lt;/p&gt;

&lt;h3 id=&quot;interface-segregation-principle--principio-de-segregacin-de-interfaces&quot;&gt;Interface Segregation Principle – Principio de Segregación de Interfaces&lt;/h3&gt;
&lt;p&gt;Un cliente no debe estar obligado implementar Interfaces que no usa.&lt;/p&gt;

&lt;h3 id=&quot;dependency-inversion-principle--principio-de-inversin-de-dependencias&quot;&gt;Dependency Inversion Principle – Principio de Inversión de Dependencias&lt;/h3&gt;
&lt;p&gt;Módulos de alto nivel no deben depender de módulos de bajo nivel. Las dependencias entre estos deben ser sobre abstracciones no sobre clases concretas.&lt;/p&gt;

&lt;p&gt;La buena aplicación de estos principios al comienzo no suele ser tan sencillo, puede tomar cierto tiempo mientras se acumula experiencia y se conoce más el paradigma de objetos. Además de otras ventajas significativas como código fácil de mantener y de testear.&lt;/p&gt;
</description>
				<pubDate>Mon, 14 Mar 2011 06:00:04 -0500</pubDate>
				<link>/conceptos/principios/2011/03/14/principios-solid.html</link>
				<guid isPermaLink="true">/conceptos/principios/2011/03/14/principios-solid.html</guid>
			</item>
		
			<item>
				<title>Pensando en objetos [Polimorfismo]</title>
				<description>&lt;p&gt;Vayamos directo al grano y después entramos un poco más en detalle, veamos enseguida la definición de polimorfismo, y después la vamos a explicar paso a paso.&lt;/p&gt;

&lt;h2 id=&quot;polimorfismo&quot;&gt;Polimorfismo&lt;/h2&gt;
&lt;p&gt;Manipular o ejecutar el comportamiento particular de diferentes tipos de objetos &lt;em&gt;&lt;strong&gt;a través de una interfaz común o uniforme&lt;/strong&gt;&lt;/em&gt;, ya sea por medio de herencia o por contrato. Ya conocemos como es el mecanismo de herencia, antes de seguir entendamos que es eso de &lt;em&gt;&lt;strong&gt;contrato&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Técnicamente cuando hablamos de un contrato, estamos hablando en términos de POO de una &lt;em&gt;&lt;strong&gt;Interface&lt;/strong&gt;&lt;/em&gt;. Cuando un objeto se compromete a cumplir una Interface (contrato), este debe implementar el comportamiento que dice ese contrato o Interface. Al cumplir ese contrato el objeto actual &lt;em&gt;&lt;strong&gt;automáticamente puede ser tratado como un objeto del tipo de la Interface&lt;/strong&gt;&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Por ejemplo si existe un contrato o Interface llamada &lt;strong&gt;&lt;code&gt;Mamífero&lt;/code&gt;&lt;/strong&gt; que especifica varias operaciones como &lt;code&gt;dormir()&lt;/code&gt; y &lt;code&gt;comer()&lt;/code&gt;, podríamos tener una clase llamada Perro la cual implementara la interface Mamífero y cualquier objeto tipo &lt;code&gt;Perro&lt;/code&gt; que creemos automáticamente  es al mismo tiempo un tipo &lt;code&gt;Mamífero&lt;/code&gt;; así donde se pida un tipo &lt;code&gt;Mamífero&lt;/code&gt; yo podría pasar un objeto &lt;code&gt;Perro&lt;/code&gt; y este es aceptado porque cumple con el contrato &lt;code&gt;Mamífero&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Ahora veamos como es eso de una interfaz uniforme para tratar al polimorfismo?. Si tengo un método que pide una referencia de tipo &lt;code&gt;Mamífero&lt;/code&gt; que es un contrato:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;hacerAlgo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Mamifero&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;){&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;comer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora al llamar a el método &lt;code&gt;hacerAlgo()&lt;/code&gt; puedo pasar un objeto que cumpla con ese contrato &lt;code&gt;Mamífero&lt;/code&gt;. Si tengo una clase &lt;code&gt;Perro&lt;/code&gt; y otra clase &lt;code&gt;Ballena&lt;/code&gt; y ambas implementan ese contrato entonces el método aceptará cualquiera de las dos.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;n&quot;&gt;Perro&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Perro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hacerAlgo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Igual si lo hacemos con un objeto &lt;code&gt;Ballena&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;n&quot;&gt;Ballena&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Ballena&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hacerAlgo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Al llamar a &lt;code&gt;m.comer()&lt;/code&gt; dentro de &lt;code&gt;hacerAlgo()&lt;/code&gt;, este se comportará según el objeto real que estamos pasando al método, sea un perro o una ballena, cada uno comerá a su manera y de eso se trata el polimorfismo, en este caso la interfaz común es el método &lt;code&gt;comer()&lt;/code&gt; que estamos invocando dentro del método con la referencia &lt;em&gt;&lt;strong&gt;m&lt;/strong&gt;&lt;/em&gt; de &lt;code&gt;Mamifero&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Este mecanismo es aplicable tanto por contrato como en el ejemplo y también por herencia. El polimorfismo permite que las aplicaciones crezcan y que sean extensibles añadiendo nuevos componentes sin modificar lo que existe.&lt;/p&gt;

&lt;p&gt;Podríamos crear nuevos objetos por ejemplo una clase &lt;code&gt;Caballo&lt;/code&gt; y pasar una instancia de esta al método &lt;code&gt;hacerAlgo()&lt;/code&gt; y el método no se modificaría, solo se comportaría diferente a la hora de &lt;code&gt;comer()&lt;/code&gt;.&lt;/p&gt;
</description>
				<pubDate>Mon, 28 Feb 2011 13:10:04 -0500</pubDate>
				<link>/conceptos/principios/2011/02/28/pensando-en-objetos-%5Bpolimorfismo%5D.html</link>
				<guid isPermaLink="true">/conceptos/principios/2011/02/28/pensando-en-objetos-%5Bpolimorfismo%5D.html</guid>
			</item>
		
			<item>
				<title>Pensando en objetos [Herencia]</title>
				<description>&lt;p&gt;Siguiendo con los conceptos importantes en la POO nos encontramos con la &lt;em&gt;&lt;strong&gt;herencia&lt;/strong&gt;&lt;/em&gt;.
La definición más sencilla y puntual que podemos darle a la herencia es: &lt;em&gt;&lt;strong&gt;un mecanismo de relación jerárquica&lt;/strong&gt;&lt;/em&gt;; así tal cual y no más. Ahora bien esta relación es muy útil y la puedo aplicar en mi diseño o modelo de objetos para lograr varios objetivos:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Reúso de código :&lt;/strong&gt; Al aplicar este mecanismo de relación puedo heredar código desde otra clase a la que se llama padre, así puedo usar código del &lt;em&gt;&lt;strong&gt;padre&lt;/strong&gt;&lt;/em&gt; en la clase hija tan solo escribiendo un par de líneas evitando el copiar, copiar y copiar de un lado a otro.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Organización de codigo :&lt;/strong&gt; Puedo estructurar mi modelo de una forma más lógica al mundo real, así tendría árboles jerárquicos como Animal – Mamífero – Gato, Animal – Reptil – Tortuga, etc…&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Crear subtipos :&lt;/strong&gt;  Puedo obtener otros tipos de objetos hijos que vienen siendo &lt;em&gt;&lt;strong&gt;subtipos&lt;/strong&gt;&lt;/em&gt; del padre, aunque la definición de un subtipo como tal este más ligada al &lt;em&gt;&lt;strong&gt;polimorfismo&lt;/strong&gt;&lt;/em&gt; que a la herencia, podemos decir que esto es una consecuencia de aplicar este mecanismo de relación.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Los términos a tener en cuenta cuando trabajamos con herencia son:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Superclase o clase padre.&lt;/li&gt;
  &lt;li&gt;Subclase o clase hija.&lt;/li&gt;
  &lt;li&gt;Generalización&lt;/li&gt;
  &lt;li&gt;Especialización&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;generalizacin&quot;&gt;Generalización&lt;/h2&gt;

&lt;p&gt;Supongamos que no tenemos ninguna relación jerárquica. Ahora bien, tengo una numero de clases que me modelan varios animales: Gato, Perro, Serpiente, etc. La generalización aparece cuando tomo este grupo de clases, identifico una serie de &lt;em&gt;&lt;strong&gt;características y comportamientos comunes&lt;/strong&gt;&lt;/em&gt; y las llevo a otra clase la cual será una superclase de todas ellas, ahí en ese proceso de abstracción estoy generalizando.&lt;/p&gt;

&lt;h2 id=&quot;especializacin&quot;&gt;Especialización&lt;/h2&gt;
&lt;p&gt;Con la especialización ocurre lo contrario, al crear una nueva clase a partir de otra y &lt;em&gt;&lt;strong&gt;agregar nuevas características y comportamiento&lt;/strong&gt;&lt;/em&gt; estoy especializando un tipo de objeto. Como lo que se hace al finalizar una profesión, por ejemplo el médico se especializa en un área más puntual digamos cardiología, ahora puede comportarse tanto como cardiólogo pero sigue siendo también un médico.&lt;/p&gt;
</description>
				<pubDate>Sun, 13 Feb 2011 13:10:04 -0500</pubDate>
				<link>/conceptos/principios/2011/02/13/pensando-en-objetos-%5Bherencia%5D.html</link>
				<guid isPermaLink="true">/conceptos/principios/2011/02/13/pensando-en-objetos-%5Bherencia%5D.html</guid>
			</item>
		
			<item>
				<title>Pensando en objetos [Encapsulacion]</title>
				<description>&lt;p&gt;Anteriormente habíamos hablado del proceso de Abstracción, este me ayuda a definir lo que es inherente al modelado de mi problema. Por ejemplo si tratamos de modelar un objeto Televisor, podemos pensar en que características y funciones debe tener este:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Un botón de encender / apagar.&lt;/li&gt;
  &lt;li&gt;Un par de botones para subir / bajar volumen.&lt;/li&gt;
  &lt;li&gt;Un par de botones para cambiar  el canal (subir / bajar)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&quot;/images/encapsulacion-01.gif&quot; alt=&quot;Encapsulacion-01&quot; /&gt; &lt;/p&gt;

&lt;p&gt;Dejémoslo así sencillo. &lt;/p&gt;

&lt;p&gt;Ahora después de este arduo proceso de abstracción, debo tomar todos esos conceptos que agrupe y meterlos en una bolsa o saco.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Encapsulación, tomar mi abstracción y ponerla dentro de una entidad.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Esta entidad resultante debería tener características y funcionalidades que estén fuertemente relacionadas, que sea coherente con lo que representa. Esta entidad es mi molde de creación de objetos. Es lo que conocemos como &lt;em&gt;Clase&lt;/em&gt; y el objeto resultante formado de este molde es lo conocemos como &lt;em&gt;Instancia&lt;/em&gt;. Por eso decimos que:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Una Clase&lt;/strong&gt; es una representación abstracta de un grupo de objetos.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Una Instancia&lt;/strong&gt; es una representación física real de este tipo de dato abstracto.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Es importante no confundir la encapsulación con &lt;em&gt;&lt;strong&gt;ocultamiento de información&lt;/strong&gt;&lt;/em&gt;, que es un mecanismo que me brinda el lenguaje para definir que cosas son o no visibles al mundo exterior y en que nivel de visibilidad.&lt;/p&gt;

&lt;p&gt;En la encapsulación podemos definir una &lt;em&gt;&lt;strong&gt;interfaz pública&lt;/strong&gt;&lt;/em&gt; y manipular a través de ella las características de mis objetos para tener un mejor control en muchos aspectos.&lt;/p&gt;

&lt;p&gt;Ahora el ocultamiento de información es algo que es fácil de entender por si misma. Podemos definir niveles de visibilidad para los atributos y métodos de un objeto, en Java conocemos 4 tipos de visibilidad:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Publica :&lt;/strong&gt; Visible para todos.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Protegida :&lt;/strong&gt; Visible para objetos hijos (concepto de herencia).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Default :&lt;/strong&gt; Visibles para todos los objetos del mismo grupo (concepto de paquete en java)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Privada :&lt;/strong&gt; Visible solo dentro del mismo objeto.&lt;/li&gt;
&lt;/ol&gt;
</description>
				<pubDate>Sat, 29 Jan 2011 13:10:04 -0500</pubDate>
				<link>/conceptos/principios/2011/01/29/pensando-en-objetos-%5Bencapsulacion%5D.html</link>
				<guid isPermaLink="true">/conceptos/principios/2011/01/29/pensando-en-objetos-%5Bencapsulacion%5D.html</guid>
			</item>
		
			<item>
				<title>Pensando en objetos [Abstraccion]</title>
				<description>&lt;p&gt;Una de las características más importante en la programación orientada a objeto (POO en adelante) es que me permite expresar &lt;em&gt;&lt;strong&gt;conceptos&lt;/strong&gt;&lt;/em&gt; del mundo real tal y como son. Así como existe un vehículo en mi mundo real, tal cual lo puedo recrear en la POO.&lt;/p&gt;

&lt;p&gt;En mi mundo real las cosas(objetos) tienen unas &lt;em&gt;&lt;strong&gt;características&lt;/strong&gt;&lt;/em&gt; y también pueden tener una &lt;em&gt;&lt;strong&gt;funcionalidad&lt;/strong&gt;&lt;/em&gt;. 
Existen dos términos importantes que son:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Estado :&lt;/strong&gt; El estado del objeto está representado por sus características o rasgos particulares, también llamados atributos.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Comportamiento :&lt;/strong&gt; El comportamiento está representado por las operaciones o cosas que puede realizar este objeto, también llamados métodos.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;La base para empezar a recrear mi pequeño mundo orientado a objetos es saber identificar esto ya que el proceso de abstracción implica conocer el ecosistema y el problema que estamos tratando de modelar. La definición de abstracción puede tener cierta similitud en diferentes áreas.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Filosofía :&lt;/strong&gt; Acto mental para aislar conceptualmente las propiedades de un objeto.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Psicología :&lt;/strong&gt; Reducción de los componentes fundamentales de información de un fenómeno.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Informática :&lt;/strong&gt; Agrupar características comunes y esenciales de un grupo de objetos.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Entonces aquí tenemos uno de los principales conceptos en la POO :&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Abstracción, agrupación de características esenciales para modelar mi problema&lt;/strong&gt;. &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Con este proceso de abstracción en la POO puedo tener algunas ventajas significativas en el desarrollo de software:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Concentrarse en pocas cosas :&lt;/strong&gt; Al tener un modelo muy bien definido puedo reducir la complejidad y puedo identificar con mayor facilidad lo que quiero.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Representación real del mundo :&lt;/strong&gt; Me siento más cómodo al trabajar con mis componentes u objetos ya que me los imagino en la realidad de mi ecosistema como son y cómo interactúan entre si.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Olvidar los detalles de implementación :&lt;/strong&gt; Es una consecuencia de concentrarme en &lt;strong&gt;que es lo que debe hacer un objeto&lt;/strong&gt;, el como lo hace  queda en segundo plano.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Es importante entender lo que quiero solucionar para lograr un diseño funcional adecuado a mis necesidades, si quiero diseñar un sistema de inventarios debemos saber que nos encontraremos con Productos, Clientes, Facturas, etc. Así que entienda primero lo que quiere hacer para que realice un buen proceso de abstracción&lt;/p&gt;

&lt;p&gt;En las próximas entradas veremos el resto de los conceptos principales en la POO: encapsulación, herencia y polimorfismo.&lt;/p&gt;
</description>
				<pubDate>Fri, 14 Jan 2011 13:10:04 -0500</pubDate>
				<link>/conceptos/principios/2011/01/14/pensando-en-objetos-%5Babstraccion%5D.html</link>
				<guid isPermaLink="true">/conceptos/principios/2011/01/14/pensando-en-objetos-%5Babstraccion%5D.html</guid>
			</item>
		
	</channel>
</rss>
